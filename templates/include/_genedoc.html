<div class="panel-body">
    当前家谱共有文档：{{cnt}}部
    {%if can_operate == 1 or can_operate == 2 %} 
    <a href="/genealogy/doc/add/{{gid}}" class="btn btn-default">添加文档</a>
    {%endif %}
</div>
<div class="row">
    <div class="btn-group col-md-6 text-left">
        <button type="button" class="btn btn-default">10</button>
        <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" aria-haspopup="true"
            aria-expanded="false">
            <span class="caret"></span>
            <span class="sr-only">Toggle Dropdown</span>
        </button>
        <ul class="dropdown-menu">
            <li><a href="#">10</a></li>
            <li><a href="#">20</a></li>
            <li><a href="#">30</a></li>
            <li role="separator" class="divider"></li>
            <li><a href="#">全部</a></li>
        </ul>
    </div>
    <div class="input-group col-md-6">
        <form action="/genealogy/doc/search/{{gid}}">
            <div class="form-group col-md-10"><input type="text" id="name" name='name' class="form-control col-md-6"
                    placeholder="输入文档名"></div>
            <span class="input-group-btn">
                <input class="btn btn-default" type="submit" value="搜索">
            </span>
            <form>
    </div>
</div>
<div class="adv-table col-lg-12 mt-3">
    <table class="display table table-bordered table-striped" id="dynamic-table">
        <thead>
            <tr>
                <th><input type="checkbox" /></th>
                <th>编号</th>
                <th>标题</th>
                <th>作者</th>
                <th>类型</th>
                <th>排序</th>
                <th>时间</th>
                <th>操作</th>
            </tr>
        </thead>
        <tbody>
            {% for i in document %}
            <tr>
                <td><input type="checkbox" /></td>
                <td>{{i.id}}</td>
                <td>{{i.title}}</td>
                <td>{{i.author}}</td>
                <td>{{i.doctype.title}}</td>
                <td>{{i.rank}}</td>
                <td>{{i.time}}</td>
                <td>
                    <div class="btn-group btn-group-sm">
                        <a href="/genealogy/doc/dtl/{{i.id}}" class="btn btn-white">查看</a>
                        {%if can_operate == 1 or can_operate == 2 %}
                        <a href="/genealogy/doc/upd/{{i.id}}" class="btn btn-white">修改</a>
                        {%endif %}
                        {%if can_operate == 2 %}
                        <a href="/genealogy/doc/del/{{gid}}/{{i.id}}" class="btn btn-white">删除</a>
                        {%endif %}
                    </div>
                </td>
            </tr>
            {% endfor %}
            <!-- <tr>
                <td><input type="checkbox" /></td>
                <td>1</td>
                <td>湖北孝感李氏家谱</td>
                <td>10</td>
                <td>4</td>
                <td>1</td>
                <td>2022-10-8 20:07</td>
                <td>公开家谱</td>
                <td>读|写|删除</td>
                <td>
                    <div class="btn-group btn-group-sm">
                        <a href="/genealogy/dtl" class="btn btn-white">查看</a>
                        <a href="/genealogy/grt" class="btn btn-white">生成</a>
                        <a href="/genealogy/del" class="btn btn-white">删除</a>
                        <a href="/genealogy/upd" class="btn btn-white">修改</a>
                    </div>
                </td>
            </tr>
            <tr>
                <td><input type="checkbox" /></td>
                <td>1</td>
                <td>江西九江李氏家谱</td>
                <td>10</td>
                <td>4</td>
                <td>1</td>
                <td>2022-10-8 20:07</td>
                <td>公开家谱</td>
                <td>读|写|删除</td>
                <td>
                    <div class="btn-group btn-group-sm">
                        <a href="/genealogy/dtl" class="btn btn-white">查看</a>
                        <a href="/genealogy/grt" class="btn btn-white">生成</a>
                        <a href="/genealogy/del" class="btn btn-white">删除</a>
                        <a href="/genealogy/upd" class="btn btn-white">修改</a>
                    </div>
                </td>
            </tr>
            <tr>
                <td><input type="checkbox" /></td>
                <td>1</td>
                <td>湖南长沙李氏家谱</td>
                <td>10</td>
                <td>4</td>
                <td>1</td>
                <td>2022-10-8 20:07</td>
                <td>公开家谱</td>
                <td>读|写|删除</td>
                <td>
                    <div class="btn-group btn-group-sm">
                        <a href="/genealogy/dtl" class="btn btn-white">查看</a>
                        <a href="/genealogy/grt" class="btn btn-white">生成</a>
                        <a href="/genealogy/del" class="btn btn-white">删除</a>
                        <a href="/genealogy/upd" class="btn btn-white">修改</a>
                    </div>
                </td>
            </tr>
            <tr>
                <td><input type="checkbox" /></td>
                <td>1</td>
                <td>湖北黄冈林氏家谱</td>
                <td>10</td>
                <td>4</td>
                <td>1</td>
                <td>2022-10-8 20:07</td>
                <td>公开家谱</td>
                <td>读|写|删除</td>
                <td>
                    <div class="btn-group btn-group-sm">
                        <a href="/genealogy/dtl" class="btn btn-white">查看</a>
                        <a href="/genealogy/del" class="btn btn-white">删除</a>
                        <a href="/genealogy/upd" class="btn btn-white">修改</a>
                    </div>
                </td>
            </tr>
        </tbody>
        <tfoot>
            <tr>
                <th><input type="checkbox" /></th>
                <th>编号</th>
                <th>名称</th>
                <th>人物数</th>
                <th>文档数</th>
                <th>PDF数</th>
                <th>创建时间</th>
                <th>类型</th>
                <th>权限</th>
                <th>操作</th>
            </tr>
        </tfoot> -->
    </table>
</div>
<div class="row">
    <div class="pagination">共 {{d_cnt}} 条数据</div>
    <nav aria-label="Page navigation" class="pull-right">
        {%if d_cnt == cnt %}
        <ul class="pagination">
            <!--上一页-->
            <li class="{% if not page.has_previous %}disabled{% endif %}">
                {% if page.has_previous %}
                <a href="/genealogy/dtl_doc/{{gid}}?page={{ page.previous_page_number }}" aria-label="Previous">
                    {% endif %}
                    <span aria-hidden="true">&laquo;</span>
                </a>
            </li>

            <!--页码-->
            <!--这里展示页码使用传递过来的dis_range -->
            {% for num in dis_range %}
            <li class="{% if num == page.number %}active{% else %}{% endif %}">
                <a href="/genealogy/dtl_doc/{{gid}}?page={{ num }}">{{ num }}</a>
            </li>
            {% endfor %}

            <!--下一页-->
            <li class="{% if not page.has_next %}disabled{% endif %}">
                {% if page.has_next %}
                <a href="/genealogy/dtl_doc/{{gid}}?page={{ page.next_page_number }}" aria-label="Next">
                    {% endif %}
                    <span aria-hidden="true">&raquo;</span>
                </a>
            </li>
        </ul>
        {%else %}
        <ul class="pagination">
            <!--上一页-->
            <li class="{% if not page.has_previous %}disabled{% endif %}">
                {% if page.has_previous %}
                <a href="/genealogy/doc/search/{{gid}}?name={{name}}&page={{ page.previous_page_number }}" aria-label="Previous">
                    {% endif %}
                    <span aria-hidden="true">&laquo;</span>
                </a>
            </li>

            <!--页码-->
            <!--这里展示页码使用传递过来的dis_range -->
            {% for num in dis_range %}
            <li class="{% if num == page.number %}active{% else %}{% endif %}">
                <a href="/genealogy/doc/search/{{gid}}?name={{name}}&page={{ num }}">{{ num }}</a>
            </li>
            {% endfor %}

            <!--下一页-->
            <li class="{% if not page.has_next %}disabled{% endif %}">
                {% if page.has_next %}
                <a href="/genealogy/doc/search/{{gid}}?name={{name}}&page={{ page.next_page_number }}" aria-label="Next">
                    {% endif %}
                    <span aria-hidden="true">&raquo;</span>
                </a>
            </li>
        </ul>
        {%endif %}
    </nav>
</div>