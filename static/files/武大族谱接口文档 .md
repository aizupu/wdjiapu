# 武大族谱接口文档 

| 序号 | 项目         | 影响版本 | 负责人      | 修改时间   |
| ---- | ------------ | -------- | ----------- | ---------- |
| 1    | 初版接口编写 | v 0.0.1  | 游勇/刘宏毅 | 2021.03.17 |
|      |              |          |             |            |
|      |              |          |             |            |

## 1.编码

若请求消息体中的参数支持中文，则中文字符必须为UTF-8编码。

## 2.时间与日期

日期与时间的表示有多种方式。为统一起见，除非是约定俗成或者有相应规范的，凡需要日期时间表示的地方一律采用UTC时间，遵循ISO 8601，并做以下约束：

表示日期一律采用YYYY-MM-DD方式，例如2020-06-01表示2020年6月1日
表示时间一律采用hh:mm:ss方式，并在最后加一个大写字母Z表示UTC时间。例如23:00:10Z表示UTC时间23点0分10秒。
凡涉及日期和时间合并表示时，在两者中间加大写字母T，例如2016-06-01T23:00:10Z表示UTC时间2016年6月1日23点0分10秒

## 3. API 规范

### 3.1 公共请求消息头

下表列出了所有 XXX API 所携带的公共头域。HTTP 协议的标准头域不再这里列出了。

| 消息头（Header） | 是否必须 | 说明                            |
| ---------------- | -------- | ------------------------------- |
| Content-Type     | 可选     | application/json; charset=utf-8 |
|                  |          |                                 |

### 3.2公共响应消息头

下表列出了所有 XXX API的公共响应头域。HTTP协议的标准响应头域不再这里列出了。

| 消息头（Header） | 说明                                            |
| ---------------- | ----------------------------------------------- |
| Content-Type     | 只支持JSON格式，application/json; charset=utf-8 |
|                  |                                                 |

​	

### 3.3 错误返回格式

XXX 错误响应符合BCE规范，统一为如下格式。后续各接口不再单独列出。

| 参数名 | 类型   | 说明     |
| ------ | ------ | -------- |
| msg    | string | 错误描述 |
| code   | string | 错误码   |
|        |        |          |

示例:

```json
{
    "msg": "用户不存在/密码错误",
    "code": 500
}
```

#### 3.3.1 通用请求返回值

-正常

| 返回值 | 说明                                               |
| ------ | -------------------------------------------------- |
| 200    | 请求成功。                                         |
| 202    | 任务提交成功，当前系统繁忙，下发的任务会延迟处理。 |
| 204    | 任务提交成功。                                     |

-异常

| **返回值**                        | **说明**                                                 |
| --------------------------------- | -------------------------------------------------------- |
| 300 multiple choices              | 被请求的资源存在多个可供选择的响应。                     |
| 400 Bad Request                   | 服务器未能处理请求。                                     |
| 401 Unauthorized                  | 被请求的页面需要用户名和密码。                           |
| 403 Forbidden                     | 对被请求页面的访问被禁止。                               |
| 404 Not Found                     | 服务器无法找到被请求的页面。                             |
| 405 Method Not Allowed            | 请求中指定的方法不被允许。                               |
| 406 Not Acceptable                | 服务器生成的响应无法被客户端所接受。                     |
| 407 Proxy Authentication Required | 用户必须首先使用代理服务器进行验证，这样请求才会被处理。 |
| 408 Request Timeout               | 请求超出了服务器的等待时间。                             |
| 409 Conflict                      | 由于冲突，请求无法被完成。                               |
| 500 Internal Server Error         | 请求未完成。服务异常。                                   |
| 501 Not Implemented               | 请求未完成。服务器不支持所请求的功能。                   |
| 502 Bad Gateway                   | 请求未完成。服务器从上游服务器收到一个无效的响应。       |
| 503 Service Unavailable           | 请求未完成。系统暂时异常。                               |
| 504 Gateway Timeout               | 网关超时。                                               |
| 500 InternalServerError           | 表明服务端能被请求访问到，但是不能理解用户的请求。       |

### 3.4 规范原则

- 接口返回数据即显示：前端仅做渲染逻辑处理；
- 渲染逻辑禁止跨多个接口调用；
- 前端关注交互、渲染逻辑，尽量避免业务逻辑处理的出现；
- 请求响应传输数据格式：JSON，JSON数据尽量简单轻量，避免多级JSON的出现；

### 3.5 基本格式

GET请求、POST请求==必须包含key为body的入参，所有请求数据包装为JSON格式，并存放到入参body中==，示例如下：

```json
接口URL: http://url/   如:登陆 http://url/login
测试线上接口URL: http://yunpu-api.qzzb.net/
```

**GET请求：**

```json
xxx/xx?xxx=
```

**POST请求：**

![Snipaste_2021-03-17_15-22-49](C:\Users\Administrator\Desktop\Snipaste_2021-03-17_15-22-49.png)



## 4.1用户

### 4.1.1 登陆

接口地址：http://url/login

请求方式：POST

请求参数：form 提交

```json
username:1 账号
password：2 密码
rememberMe：false
```

响应参数：

```json
{"msg":"","code":200}
```

## 4.2 项目

### 4.2.1项目列表

接口地址：api/projectList

请求方式：POST

请求参数:

```json
params
userId 当前登陆人ID
```

响应参数:

```json
{
    "msg": "操作成功",
    "code": 0,
    "data": [
        {
            "searchValue": null,
            "createBy": "1",
            "createTime": "2020-12-22 11:00:03",
            "updateBy": "",
            "updateTime": null,
            "remark": "",
            "params": {},
            "projectId": 3,
            "projectName": "测试项目2",           //项目名称
            "projectTheme": "测试",                //项目主题
            "projectSurname": "李",               //项目姓氏
            "projectCounty": "中国",               //国
            "projectProvince": "湖北",             //省
            "projectCity": "武汉",                 //市
            "projectArea": "硚口",                    //区
            "projectAddress": "湖北武汉硚口",           //详细地址
            "sourceGroupId": 0,                       //所属用户组id
            "statusFlag": "0",                          //状态标志（0进行中 2已完成）
            "projectStar": 2,                          //星级
            "delFlag": "0"
        },...
    ]
}
```



### 4.2.2项目新增

接口地址：api/projectAdd

请求方式：POST

请求参数：

```json
json:
projectName:测试项目名称。// 项目名称
projectTheme：测试项目主题。// 项目主题
projectSurname： 测试姓氏 // 姓氏
projectCounty： 测试国家 // 国家
projectProvince： 测试省 // 省
projectCity：测试市 // 市
projectArea： 测试区。//区
projectAddress： 测试地址 // 具体地址
sourceGroupId：1 // 所属用户组
statusFlag：0 // 状态标志（0进行中 2已完成）
projectStar：1。//项目星级 0 1 2 3 4 5
params:
userId 当前登录的用户ID
```

### 4.2.3项目修改

接口地址：api/projectUpdate

请求方式：POST

请求参数:

```json
projectId:14  //项目主键
projectName:测试项目名称。// 项目名称
projectTheme：测试项目主题。// 项目主题
projectSurname： 测试姓氏 // 姓氏
projectCounty： 测试国家 // 国家
projectProvince： 测试省 // 省
projectCity：测试市 // 市
projectArea： 测试区。//区
projectAddress： 测试地址 // 具体地址
sourceGroupId：1 // 所属用户组
statusFlag：0 // 状态标志（0进行中 2已完成）
projectStar：1。//项目星级 0 1 2 3 4 5
```

响应参数:

```json
{
    "msg": "操作成功",
    "code": 0,
    "data": 1
}
```

### 4.2.4 项目删除

接口地址：api/projectDel

请求方式：POST

请求参数:

```json
params
id 项目主键
```

响应参数:

```json
{
    "msg": "操作成功",
    "code": 0,
    "data": 1
}
```



### 4.2.5 根据项目ID查询项目信息

接口地址：api/projectInfo

请求方式：POST

请求参数：

```json
projectId:3 // 项目ID。必填
```

响应参数：

```json
{
    "msg": "操作成功",
    "code": 0,
    "data": {
        "user_man": "管理员",
        "other_number": {
            "woman_num": 2,
            "alive_num": 0,
            "man_num": 4,
            "unalive_num": 6,
            "all_num": 6
        },
        "ped_count": 1,
        "log": [],
        "data_number": {
            "pre_num": [
                {
                    "pre_num": 1,
                    "count(*)": 1
                },
                {
                    "pre_num": 2,
                    "count(*)": 1
                },
                {
                    "pre_num": 3,
                    "count(*)": 2
                },
                {
                    "pre_num": 4,
                    "count(*)": 2
                }
            ],
            "name_num": [
                {
                    "surname": "刘",
                    "count(*)": 4
                },
                {
                    "surname": "李",
                    "count(*)": 1
                },
                {
                    "surname": "甘",
                    "count(*)": 1
                }
            ]
        },
        "project": {
            "searchValue": null,
            "createBy": "admin",
            "createTime": "2020-12-23 15:21:13",
            "updateBy": "",
            "updateTime": null,
            "remark": "西汉中山靖王刘胜之后",
            "params": {},
            "projectId": 4,
            "projectName": "刘备家的那些事",
            "projectTheme": "刘备家",
            "projectSurname": "刘",
            "projectCounty": "中国",
            "projectProvince": "河北省 ",
            "projectCity": "涿州市 ",
            "projectArea": "",
            "projectAddress": "河北省涿州市",
            "sourceGroupId": 0,
            "statusFlag": "0",
            "projectStar": 0,
            "delFlag": "0"
        },
        "leader_man": "刘宏毅"
    }
}
```



## 4.3 谱系

### 4.3.1 获取谱系树

接口地址：api/pedigreeTree

请求方式：POST

请求参数：

```json
:4. // 项目ID
```

响应参数：

```json
{
    "msg": "操作成功",
    "code": 0,
    "data": [
        {
            "categoryName": "刘备家的主分类",
            "categoryId": 6,
            "child": [
                {
                    "searchValue": null,
                    "createBy": "admin",
                    "createTime": "2020-12-23 15:22:14",
                    "updateBy": "",
                    "updateTime": null,
                    "remark": "",
                    "params": {},
                    "pedigreeId": 3,
                    "pedigreeName": "刘备一家亲",
                    "genealogyCategoryId": 6,
                    "genealogyProjectId": 4,
                    "projectTheme": "刘备家的那些事",
                    "hallName": "蜀",
                    "delFlag": "0",
                    "genealogyProject": {
                        "searchValue": null,
                        "createBy": null,
                        "createTime": null,
                        "updateBy": null,
                        "updateTime": null,
                        "remark": null,
                        "params": {},
                        "projectId": null,
                        "projectName": "刘备家的那些事",
                        "projectTheme": null,
                        "projectSurname": null,
                        "projectCounty": null,
                        "projectProvince": null,
                        "projectCity": null,
                        "projectArea": null,
                        "projectAddress": null,
                        "sourceGroupId": null,
                        "statusFlag": null,
                        "projectStar": null,
                        "delFlag": null
                    },
                    "genealogyCategory": {
                        "searchValue": null,
                        "createBy": null,
                        "createTime": null,
                        "updateBy": null,
                        "updateTime": null,
                        "remark": null,
                        "params": {},
                        "categoryId": null,
                        "categoryName": "刘备家的主分类",
                        "projectId": null,
                        "delFlag": null,
                        "genealogyProject": null
                    }
                }
            ]
        }
    ]
}
```

### 4.3.2谱系分类概况

接口地址：api/categoryInfo

请求方式：POST

请求参数：

```json
categoryId：id  //谱系分类ID
```

响应参数：

```json
{
    "msg": "操作成功",
    "code": 0,
    "data": {
        "pedigree_num": 1,
        "log": [
            {
                "searchValue": null,
                "createBy": "管理员",
                "createTime": "2020-12-24 16:31:58",
                "updateBy": "",
                "updateTime": null,
                "remark": null,
                "params": {},
                "logId": 9,
                "projectId": 5,
                "categryId": 8,
                "pedigreeId": 6,
                "updateText": "     卞氏 ",
                "updateType": 3,
                "genealogyProject": {
                    "searchValue": null,
                    "createBy": null,
                    "createTime": null,
                    "updateBy": null,
                    "updateTime": null,
                    "remark": null,
                    "params": {},
                    "projectId": 5,
                    "projectName": "曹操一家",
                    "projectTheme": null,
                    "projectSurname": null,
                    "projectCounty": null,
                    "projectProvince": null,
                    "projectCity": null,
                    "projectArea": null,
                    "projectAddress": null,
                    "sourceGroupId": null,
                    "statusFlag": null,
                    "projectStar": null,
                    "delFlag": null
                },
                "genealogyCategory": {
                    "searchValue": null,
                    "createBy": null,
                    "createTime": null,
                    "updateBy": null,
                    "updateTime": null,
                    "remark": null,
                    "params": {},
                    "categoryId": null,
                    "categoryName": "曹操一家亲",
                    "projectId": null,
                    "delFlag": null,
                    "genealogyProject": null
                },
                "genealogyPedigree": {
                    "searchValue": null,
                    "createBy": null,
                    "createTime": null,
                    "updateBy": null,
                    "updateTime": null,
                    "remark": null,
                    "params": {},
                    "pedigreeId": 6,
                    "pedigreeName": "曹哥一辈子",
                    "genealogyCategoryId": null,
                    "genealogyProjectId": null,
                    "projectTheme": null,
                    "hallName": null,
                    "delFlag": null,
                    "genealogyProject": null,
                    "genealogyCategory": null
                }
            }
        ],
        "other_num": {
            "woman_num": 2,
            "alive_num": 2,
            "man_num": 3,
            "unalive_num": 3,
            "all_num": 5
        }
    }
}
```

### 4.3.3 谱系分类列表

接口地址: api/findCategoryAll

请求方式：POST

请求参数:

```json
projectId:id //项目ID
```

响应参数：

```json
{
    "msg": "操作成功",
    "code": 0,
    "data": [
        {
            "searchValue": null,
            "createBy": "admin",
            "createTime": "2020-12-24 16:17:19",
            "updateBy": "",
            "updateTime": null,
            "remark": null,
            "params": {},
            "categoryId": 8,                       // 谱系分类ID
            "categoryName": "曹操一家亲",           // 谱系分类名称
            "projectId": 5,                       // 所属项目ID
            "delFlag": "0"
        }
    ]
}
```



### 4.3.4 谱系分类新增

接口地址：api/categoryAdd

请求方式：POST

请求参数：

```json
categoryName:xxx // 谱系分类名称
projectId：id // 所属项目ID
```



响应参数：

```json
{
    "msg": "操作成功",
    "code": 0,
    "data": 1
}
```





### 4.3.5 谱系分类修改

接口地址：api/categoryEdit

请求方式：POST

请求参数：

```json
categoryName: xxx // 谱系分类名称
projectId ：id///项目ID
categoryId： id  // 谱系分类ID
```

响应参数：

```json
{
    "msg": "操作成功",
    "code": 0,
    "data": 1
}
```



### 4.3.6 谱系分类删除

接口地址：api/categoryDel

请求方式：POST

请求参数：

```json
cetegoryId:id //谱系ID
userId:id // 当前登录的用户ID
```

响应参数：

```json
{
    "msg": "操作成功",
    "code": 0,
    "data": 1
}
```



## 4.4 谱系

### 4.4.1 概况

接口地址：api/pedigreeInfo

请求方式：POST

请求参数：

```json
pedigreeId： id //谱系id
```

响应参数：

```json
{
    "msg": "操作成功",
    "code": 0,
    "data": {
        "log": [],
        "first_node": {
            "searchValue": null,
            "createBy": "admin",
            "createTime": "2020-12-23 15:24:18",
            "updateBy": "admin",
            "updateTime": "2020-12-24 09:29:12",
            "remark": null,
            "params": {},
            "pedigreeInfoId": 11,
            "genealogyPedigreeId": 3,
            "genealogyProjectId": 4,
            "parentId": 0,
            "surname": "刘",
            "sex": "0",
            "genealogyName": "弘",
            "commonName": "刘弘",
            "lineName": "1",
            "isRelation": "",
            "motherId": null,
            "seniority": "0",
            "pedigreeRemark": "东汉末年",
            "relationRemark": "刘备的爹",
            "aliveFlag": "2",
            "showFlag": "2",
            "preNum": 1,
            "sumNum": 1,
            "delFlag": "0",
            "namePrefix": "子",
            "nameTitle": "司空",
            "adBirth": "1900-12-23 00:00:00",
            "rank": "1",
            "prefix": "司空",
            "describeInfo": "刘备的爹",
            "genealogyPedigree": {
                "searchValue": null,
                "createBy": null,
                "createTime": null,
                "updateBy": null,
                "updateTime": null,
                "remark": null,
                "params": {},
                "pedigreeId": null,
                "pedigreeName": "刘备一家亲",
                "genealogyCategoryId": null,
                "genealogyProjectId": null,
                "projectTheme": null,
                "hallName": null,
                "delFlag": null,
                "genealogyProject": null,
                "genealogyCategory": null
            },
            "genealogyProject": {
                "searchValue": null,
                "createBy": null,
                "createTime": null,
                "updateBy": null,
                "updateTime": null,
                "remark": null,
                "params": {},
                "projectId": null,
                "projectName": "刘备家的那些事",
                "projectTheme": null,
                "projectSurname": null,
                "projectCounty": null,
                "projectProvince": null,
                "projectCity": null,
                "projectArea": null,
                "projectAddress": null,
                "sourceGroupId": null,
                "statusFlag": null,
                "projectStar": null,
                "delFlag": null
            },
            "children": null,
            "wife": null
        },
        "other_num": {
            "woman_num": 2,
            "alive_num": 0,
            "man_num": 4,
            "unalive_num": 6,
            "all_num": 6
        }
    }
}
```



### 4.4.2 谱系添加

接口地址：api/pedigreeAdd

请求方式：POST

请求参数：

```json
pedigreeName:xx // 谱系名称
genealogyCategoryId:id // 谱系分类ID
genealogyProjectId:id // 项目ID
projectTheme: xx // 谱系主题
hallName:xx // 群望堂号
userId:id  //当前登录的用户ID
```

响应参数：

```json
{
    "msg": "操作成功",
    "code": 0,
    "data": 1
}
```



### 4.4.3 谱系编辑

接口地址：api/pedigreeEdit

请求方式：POST

请求参数：

```json
pedigreeName:xx // 谱系名称
genealogyCategoryId:id // 谱系分类ID
genealogyProjectId:id // 项目ID
projectTheme:xx// 谱系主题
hallName:xx // 群望堂号
pedigreeId:xx // 谱系ID
userId:xx // 当前登录的用户ID
```



响应参数：

```json
{
    "msg": "操作成功",
    "code": 0,
    "data": 1
}
```



### 4.4.4 谱系删除

接口地址：api/pedigreeDel

请求方式：POST

请求参数：

```json
pedigreeId:id // 谱系ID
```

响应参数：

```json
{
    "msg": "操作成功",
    "code": 0,
    "data": 1
}
```



## 4.5 谱系正文

### 4.5.1树

接口地址：api/pedigreeInfoTree

请求方式：POST

请求参数：

```json
pedigreeId:id //谱系id
```

响应参数： 

```json
{
    "msg": "操作成功",
    "code": 0,
    "data": [
        {
            "searchValue": null,
            "createBy": "admin",
            "createTime": "2020-12-23 15:24:18",
            "updateBy": "admin",
            "updateTime": "2020-12-24 09:29:12",
            "remark": null,
            "params": {},
            "pedigreeInfoId": 11,
            "genealogyPedigreeId": 3,
            "genealogyProjectId": 4,
            "parentId": 0,
            "surname": "刘",
            "sex": "0",
            "genealogyName": "弘",
            "commonName": "刘弘",
            "lineName": "1",
            "isRelation": "",
            "motherId": null,
            "seniority": "0",
            "pedigreeRemark": "东汉末年",
            "relationRemark": "刘备的爹",
            "aliveFlag": "2",
            "showFlag": "2",
            "preNum": 1,
            "sumNum": 1,
            "delFlag": "0",
            "namePrefix": "子",
            "nameTitle": "司空",
            "adBirth": "1900-12-23 00:00:00",
            "rank": "1",
            "prefix": "司空",
            "describeInfo": "刘备的爹",
            "genealogyPedigree": {
                "searchValue": null,
                "createBy": null,
                "createTime": null,
                "updateBy": null,
                "updateTime": null,
                "remark": null,
                "params": {},
                "pedigreeId": null,
                "pedigreeName": "刘备一家亲",
                "genealogyCategoryId": null,
                "genealogyProjectId": null,
                "projectTheme": null,
                "hallName": null,
                "delFlag": null,
                "genealogyProject": null,
                "genealogyCategory": null
            },
            "genealogyProject": {
                "searchValue": null,
                "createBy": null,
                "createTime": null,
                "updateBy": null,
                "updateTime": null,
                "remark": null,
                "params": {},
                "projectId": null,
                "projectName": "刘备家的那些事",
                "projectTheme": null,
                "projectSurname": null,
                "projectCounty": null,
                "projectProvince": null,
                "projectCity": null,
                "projectArea": null,
                "projectAddress": null,
                "sourceGroupId": null,
                "statusFlag": null,
                "projectStar": null,
                "delFlag": null
            },
            "children": [
                {
                    "searchValue": null,
                    "createBy": "admin",
                    "createTime": "2020-12-23 15:27:43",
                    "updateBy": "admin",
                    "updateTime": "2020-12-24 09:29:20",
                    "remark": null,
                    "params": {},
                    "pedigreeInfoId": 12,
                    "genealogyPedigreeId": 3,
                    "genealogyProjectId": 4,
                    "parentId": 11,
                    "surname": "刘",
                    "sex": "0",
                    "genealogyName": "备",
                    "commonName": "刘备",
                    "lineName": "2",
                    "isRelation": "0",
                    "motherId": null,
                    "seniority": "0",
                    "pedigreeRemark": "刘备",
                    "relationRemark": "刘弘儿子",
                    "aliveFlag": "2",
                    "showFlag": "0",
                    "preNum": 2,
                    "sumNum": 2,
                    "delFlag": "0",
                    "namePrefix": "玄德",
                    "nameTitle": "汉昭烈帝",
                    "adBirth": "1900-12-23 00:00:00",
                    "rank": "1",
                    "prefix": "帝",
                    "describeInfo": "汉昭烈帝刘备（161年－223年6月10日），字玄德，涿郡涿县（今河北省涿州市）人，西汉中山靖王刘胜之后，蜀汉开国皇帝、政治家。史家多称其为先主",
                    "genealogyPedigree": {
                        "searchValue": null,
                        "createBy": null,
                        "createTime": null,
                        "updateBy": null,
                        "updateTime": null,
                        "remark": null,
                        "params": {},
                        "pedigreeId": null,
                        "pedigreeName": "刘备一家亲",
                        "genealogyCategoryId": null,
                        "genealogyProjectId": null,
                        "projectTheme": null,
                        "hallName": null,
                        "delFlag": null,
                        "genealogyProject": null,
                        "genealogyCategory": null
                    },
                    "genealogyProject": {
                        "searchValue": null,
                        "createBy": null,
                        "createTime": null,
                        "updateBy": null,
                        "updateTime": null,
                        "remark": null,
                        "params": {},
                        "projectId": null,
                        "projectName": "刘备家的那些事",
                        "projectTheme": null,
                        "projectSurname": null,
                        "projectCounty": null,
                        "projectProvince": null,
                        "projectCity": null,
                        "projectArea": null,
                        "projectAddress": null,
                        "sourceGroupId": null,
                        "statusFlag": null,
                        "projectStar": null,
                        "delFlag": null
                    },
                    "children": [
                        {
                            "searchValue": null,
                            "createBy": "admin",
                            "createTime": "2020-12-23 15:33:38",
                            "updateBy": "admin",
                            "updateTime": "2020-12-24 09:29:43",
                            "remark": null,
                            "params": {},
                            "pedigreeInfoId": 14,
                            "genealogyPedigreeId": 3,
                            "genealogyProjectId": 4,
                            "parentId": 12,
                            "surname": "刘",
                            "sex": "0",
                            "genealogyName": "禅",
                            "commonName": " 刘禅 ",
                            "lineName": "3",
                            "isRelation": "0",
                            "motherId": 13,
                            "seniority": "2",
                            "pedigreeRemark": "",
                            "relationRemark": "",
                            "aliveFlag": "2",
                            "showFlag": "2",
                            "preNum": 3,
                            "sumNum": 3,
                            "delFlag": "0",
                            "namePrefix": "公嗣",
                            "nameTitle": "蜀汉怀帝",
                            "adBirth": null,
                            "rank": "1",
                            "prefix": "帝",
                            "describeInfo": "刘禅(shàn)（207年－271年），既蜀汉怀帝，又称后主，字公嗣，小名阿斗。三国时期蜀汉末代皇帝（223年—263年在位），汉昭烈帝刘备之子，母亲是昭烈皇后甘氏",
                            "genealogyPedigree": {
                                "searchValue": null,
                                "createBy": null,
                                "createTime": null,
                                "updateBy": null,
                                "updateTime": null,
                                "remark": null,
                                "params": {},
                                "pedigreeId": null,
                                "pedigreeName": "刘备一家亲",
                                "genealogyCategoryId": null,
                                "genealogyProjectId": null,
                                "projectTheme": null,
                                "hallName": null,
                                "delFlag": null,
                                "genealogyProject": null,
                                "genealogyCategory": null
                            },
                            "genealogyProject": {
                                "searchValue": null,
                                "createBy": null,
                                "createTime": null,
                                "updateBy": null,
                                "updateTime": null,
                                "remark": null,
                                "params": {},
                                "projectId": null,
                                "projectName": "刘备家的那些事",
                                "projectTheme": null,
                                "projectSurname": null,
                                "projectCounty": null,
                                "projectProvince": null,
                                "projectCity": null,
                                "projectArea": null,
                                "projectAddress": null,
                                "sourceGroupId": null,
                                "statusFlag": null,
                                "projectStar": null,
                                "delFlag": null
                            },
                            "children": [
                                {
                                    "searchValue": null,
                                    "createBy": "admin",
                                    "createTime": "2020-12-23 15:36:28",
                                    "updateBy": "admin",
                                    "updateTime": "2020-12-24 09:29:52",
                                    "remark": null,
                                    "params": {},
                                    "pedigreeInfoId": 16,
                                    "genealogyPedigreeId": 3,
                                    "genealogyProjectId": 4,
                                    "parentId": 14,
                                    "surname": "刘",
                                    "sex": "0",
                                    "genealogyName": "谌",
                                    "commonName": "刘谌 ",
                                    "lineName": "4",
                                    "isRelation": "0",
                                    "motherId": 15,
                                    "seniority": "3",
                                    "pedigreeRemark": "",
                                    "relationRemark": "",
                                    "aliveFlag": "2",
                                    "showFlag": "0",
                                    "preNum": 4,
                                    "sumNum": 4,
                                    "delFlag": "0",
                                    "namePrefix": "",
                                    "nameTitle": "北地王",
                                    "adBirth": null,
                                    "rank": "1",
                                    "prefix": "孙",
                                    "describeInfo": "刘谌（chén）（？—263年），涿郡涿县（今河北涿州）人，蜀汉昭烈帝刘备之孙，蜀汉后主刘禅第五子，三国时期蜀汉北地王。",
                                    "genealogyPedigree": {
                                        "searchValue": null,
                                        "createBy": null,
                                        "createTime": null,
                                        "updateBy": null,
                                        "updateTime": null,
                                        "remark": null,
                                        "params": {},
                                        "pedigreeId": null,
                                        "pedigreeName": "刘备一家亲",
                                        "genealogyCategoryId": null,
                                        "genealogyProjectId": null,
                                        "projectTheme": null,
                                        "hallName": null,
                                        "delFlag": null,
                                        "genealogyProject": null,
                                        "genealogyCategory": null
                                    },
                                    "genealogyProject": {
                                        "searchValue": null,
                                        "createBy": null,
                                        "createTime": null,
                                        "updateBy": null,
                                        "updateTime": null,
                                        "remark": null,
                                        "params": {},
                                        "projectId": null,
                                        "projectName": "刘备家的那些事",
                                        "projectTheme": null,
                                        "projectSurname": null,
                                        "projectCounty": null,
                                        "projectProvince": null,
                                        "projectCity": null,
                                        "projectArea": null,
                                        "projectAddress": null,
                                        "sourceGroupId": null,
                                        "statusFlag": null,
                                        "projectStar": null,
                                        "delFlag": null
                                    },
                                    "children": null,
                                    "wife": null
                                }
                            ],
                            "wife": [
                                {
                                    "searchValue": null,
                                    "createBy": "admin",
                                    "createTime": "2020-12-23 15:34:50",
                                    "updateBy": "admin",
                                    "updateTime": "2020-12-24 09:30:00",
                                    "remark": null,
                                    "params": {},
                                    "pedigreeInfoId": 15,
                                    "genealogyPedigreeId": 3,
                                    "genealogyProjectId": 4,
                                    "parentId": 14,
                                    "surname": "李",
                                    "sex": "2",
                                    "genealogyName": "昭仪 ",
                                    "commonName": "李昭仪",
                                    "lineName": "3",
                                    "isRelation": "3",
                                    "motherId": null,
                                    "seniority": "2",
                                    "pedigreeRemark": "",
                                    "relationRemark": "",
                                    "aliveFlag": "2",
                                    "showFlag": "0",
                                    "preNum": 4,
                                    "sumNum": 4,
                                    "delFlag": "0",
                                    "namePrefix": "",
                                    "nameTitle": "蜀后主昭仪",
                                    "adBirth": null,
                                    "rank": "1",
                                    "prefix": "后主",
                                    "describeInfo": "李昭仪（公元？-263年），三国时期蜀汉后主的昭仪。景耀六年（263年），魏征西将军邓艾攻至成都，后主投降。",
                                    "genealogyPedigree": {
                                        "searchValue": null,
                                        "createBy": null,
                                        "createTime": null,
                                        "updateBy": null,
                                        "updateTime": null,
                                        "remark": null,
                                        "params": {},
                                        "pedigreeId": null,
                                        "pedigreeName": "刘备一家亲",
                                        "genealogyCategoryId": null,
                                        "genealogyProjectId": null,
                                        "projectTheme": null,
                                        "hallName": null,
                                        "delFlag": null,
                                        "genealogyProject": null,
                                        "genealogyCategory": null
                                    },
                                    "genealogyProject": {
                                        "searchValue": null,
                                        "createBy": null,
                                        "createTime": null,
                                        "updateBy": null,
                                        "updateTime": null,
                                        "remark": null,
                                        "params": {},
                                        "projectId": null,
                                        "projectName": "刘备家的那些事",
                                        "projectTheme": null,
                                        "projectSurname": null,
                                        "projectCounty": null,
                                        "projectProvince": null,
                                        "projectCity": null,
                                        "projectArea": null,
                                        "projectAddress": null,
                                        "sourceGroupId": null,
                                        "statusFlag": null,
                                        "projectStar": null,
                                        "delFlag": null
                                    },
                                    "children": null,
                                    "wife": null
                                }
                            ]
                        }
                    ],
                    "wife": [
                        {
                            "searchValue": null,
                            "createBy": "admin",
                            "createTime": "2020-12-23 15:32:19",
                            "updateBy": "admin",
                            "updateTime": "2020-12-24 09:29:30",
                            "remark": null,
                            "params": {},
                            "pedigreeInfoId": 13,
                            "genealogyPedigreeId": 3,
                            "genealogyProjectId": 4,
                            "parentId": 12,
                            "surname": "甘",
                            "sex": "2",
                            "genealogyName": "梅",
                            "commonName": "甘夫人",
                            "lineName": "2",
                            "isRelation": "3",
                            "motherId": null,
                            "seniority": "1",
                            "pedigreeRemark": "",
                            "relationRemark": "",
                            "aliveFlag": "2",
                            "showFlag": "2",
                            "preNum": 3,
                            "sumNum": 3,
                            "delFlag": "0",
                            "namePrefix": "",
                            "nameTitle": "昭烈皇后",
                            "adBirth": null,
                            "rank": "1",
                            "prefix": "后",
                            "describeInfo": "甘夫人（？-？），《夔州府志》作名甘梅，沛国（今安徽淮北）人，三国时期蜀汉昭烈帝刘备之妾，蜀汉后主刘禅的生母。刘备因早年多次丧偶，甘夫人常代理主持家事",
                            "genealogyPedigree": {
                                "searchValue": null,
                                "createBy": null,
                                "createTime": null,
                                "updateBy": null,
                                "updateTime": null,
                                "remark": null,
                                "params": {},
                                "pedigreeId": null,
                                "pedigreeName": "刘备一家亲",
                                "genealogyCategoryId": null,
                                "genealogyProjectId": null,
                                "projectTheme": null,
                                "hallName": null,
                                "delFlag": null,
                                "genealogyProject": null,
                                "genealogyCategory": null
                            },
                            "genealogyProject": {
                                "searchValue": null,
                                "createBy": null,
                                "createTime": null,
                                "updateBy": null,
                                "updateTime": null,
                                "remark": null,
                                "params": {},
                                "projectId": null,
                                "projectName": "刘备家的那些事",
                                "projectTheme": null,
                                "projectSurname": null,
                                "projectCounty": null,
                                "projectProvince": null,
                                "projectCity": null,
                                "projectArea": null,
                                "projectAddress": null,
                                "sourceGroupId": null,
                                "statusFlag": null,
                                "projectStar": null,
                                "delFlag": null
                            },
                            "children": null,
                            "wife": null
                        }
                    ]
                }
            ],
            "wife": []
        }
    ]
}
```





### 4.5.2 正文更改排序

接口地址：api/pedigreeInfoSort

请求方式：POST

请求参数：

```json
{
    "data":[
    {
        "pedigreeInfoId":"6",
        "rank":"0"
        }
    ],
	"pedigreeInfoId":"6"
}

params:
userId 当前登录的用户ID
```

响应参数：

```json
{
    "msg": "操作成功",
    "code": 0,
    "data": 0
}
```

### 4.5.3 谱系正文删除

接口地址：api/pedigreeInfoDel

请求方式：POST

请求参数：

```json
pedigreeInfoId:id //正文id  

userId:id  //用户id
```

响应参数：

```json
{
    "msg": "操作成功",
    "code": 0,
    "data": 0
}
```



### 4.5.4 谱系正文添加

接口地址：api/pedigreeInfoAdd

请求方式：POST

请求参数：

``` json
genealogyPedigreeId:id //谱系ID
genealogyProjectId:id // 谱系项目ID
parentId:id // 父ID
surname:xx // 姓氏
sex:0 // 性别 0男 2女
commonName:xx// 常用名
genealogyName:xx // 谱名
lineName:xx // 行号
isRelation:xx  //亲缘关系(0儿子 1女儿 3妻子)
motherId:xx//  母亲ID
seniority:xx //辈分(0高祖辈 1曾祖辈 2祖辈 3父母辈 4平辈 5晚辈)
pedigreeRemark:xx //  世系备注（最多五字）
relationRemark:xx  // 关系备注（最多五个字）
aliveFlag:0// 是否健在 0:健在。2已故
showFlag:xx// 行传显隐
preNum:xx// 世序
sumNum:xx// 统世序
namePrefix:xx// 字
nameTitle:xx// 号
adBirth:xx //公元纪年出生年月日
rank:0//  排行 0老大 1老二 2老三 3老四
prefix:xx //前缀
describeInfo:xx// 个人描述信息

params:
userId 当前登录的用户ID
```



响应参数：

```json
{
    "msg": "操作成功",
    "code": 0,
    "data": 0
}
```





### 4.5.5谱系正文编辑

接口地址：api/pedigreeInfoEdit

请求方式：POST

请求参数：

```json
genealogyPedigreeId:id// 谱系ID
genealogyProjectId:id// 谱系项目ID
parentId:id // 父ID
surname:xx// 姓氏
sex:xx// 性别 0男 2女
commonName:xx// 常用名
genealogyName:xx// 谱名
lineName:xxx// 行号
isRelation:xx// 亲缘关系(0儿子 1女儿 3妻子
motherId:id//  母亲ID
seniority:0// 辈分(0高祖辈 1曾祖辈 2祖辈 3父母辈 4平辈 5晚辈)
pedigreeRemark:xx//  世系备注（最多五字）
relationRemark:xx//   关系备注（最多五个字）
aliveFlag:xx// 是否健在 0:健在。2已故
showFlag:xx// 行传显隐
preNum:xx //世序
sumNum://统世序
namePrefix:xx //字
nameTitle:xx//  号
adBirth:xx// 公元纪年出生年月日
rank:xx// 排行 0老大 1老二 2老三 3老四
prefix:xx// 前缀
describeInfo:xx// 个人描述信息
pedigreeInfoId:xx// 谱系正文ID

params:
userId 当前登录的用户ID
```



响应参数：

```json
{
    "msg": "操作成功",
    "code": 0,
    "data": 0
}
```





响应参数：

```json
{
    "msg": "操作成功",
    "code": 0,
    "data": 0
}
```

